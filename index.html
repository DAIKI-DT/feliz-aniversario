<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>üíñ Feliz Anivers√°rio, Meu Amor üíñ</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    :root { --primary-love: #ff4b2b; --secondary-love: #ff416c; }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
      color: #fff;
      overflow-x: hidden;
    }

    h1, h2, h3, .display-love { font-family: 'Great Vibes', cursive; }

    .glass-card {
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(12px);
      border-radius: 25px;
      padding: 30px;
      margin-bottom: 60px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    /* RASPADINHA */
    .scratch-container {
      position: relative;
      width: 300px; height: 300px;
      margin: 0 auto;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }
    #scratch-canvas { position: absolute; top: 0; left: 0; cursor: crosshair; z-index: 2; }
    #revealed-img { width: 100%; height: 100%; object-fit: cover; z-index: 1; }

    /* CARTAS */
    .poem-container { min-height: 350px; display: flex; align-items: center; justify-content: center; }
    .poem-card {
      background: white; color: #333; padding: 35px; border-radius: 15px;
      max-width: 600px; width: 100%; border-left: 10px solid var(--secondary-love);
      position: relative; box-shadow: 10px 10px 20px rgba(0,0,0,0.1);
    }
    .typewriter-text { font-style: italic; line-height: 1.6; font-size: 1.2rem; min-height: 120px; }

    /* QUADRO AFILHADA */
    .frame-afilhada {
      background: white; padding: 15px; border-radius: 10px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      display: inline-block; transform: rotate(-2deg);
    }
    .frame-afilhada img { border-radius: 5px; max-width: 100%; height: auto; max-height: 400px; }

    /* CARROSSEIS */
    .carousel-item { height: 50vh; min-height: 350px; max-height: 500px; }
    .carousel-item img, .carousel-item video { width: 100%; height: 100%; object-fit: cover; border-radius: 20px; }

    /* CUPONS */
    .coupon {
      background: white; color: var(--secondary-love); border: 2px dashed var(--secondary-love);
      border-radius: 10px; padding: 15px; margin: 10px; width: 250px; cursor: pointer;
    }
    .coupon.disabled { filter: grayscale(1); opacity: 0.5; cursor: not-allowed; }
    .coupon.selected { background: var(--secondary-love); color: white; transform: scale(1.05); }

    /* LABIRINTO */
    #maze-container { display: none; margin-top: 30px; background: white; padding: 20px; border-radius: 20px; color: #333; }
    #maze-canvas { background: #f8f9fa; border: 3px solid var(--secondary-love); border-radius: 10px; cursor: crosshair; touch-action: none; }

    .btn-love { background: var(--secondary-love) !important; color: white !important; border-radius: 50px; padding: 10px 25px; border: none; }
    #music-control { position: fixed; top: 20px; right: 20px; z-index: 1000; background: white; border-radius: 50%; width: 45px; height: 45px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: #333; }
    
    /* ANIMA√á√ïES */
    .falling-rose { position: fixed; top: -50px; font-size: 24px; z-index: 9999; pointer-events: none; animation: fall linear forwards; }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
    .heart { position: fixed; bottom: -50px; font-size: 24px; animation: floatUp 8s linear infinite; z-index: 0; }
    @keyframes floatUp { 0% { transform: translateY(0); opacity: 0; } 10% { opacity: 0.8; } 100% { transform: translateY(-110vh); opacity: 0; } }

    /* MEMORIA */
    .memory-card { width: 80px; height: 80px; background: var(--secondary-love); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; position: relative; overflow: hidden; }
    .memory-card img { width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity 0.3s; }
    .memory-card.flipped img, .memory-card.matched img { opacity: 1; }
    .memory-card.flipped, .memory-card.matched { background: white; }
  </style>
</head>
<body>

<div id="music-control" onclick="toggleMusic()">üîá</div>
<audio id="bg-music" loop><source src="musica.mp3" type="audio/mpeg"></audio>

<header class="container text-center py-5">
  <h1 class="display-1 animate__animated animate__heartBeat">Feliz Anivers√°rio, Vida! üíï</h1>
</header>

<main class="container">

  <section class="glass-card text-center animate__animated animate__fadeIn">
    <h2 class="display-love mb-3" style="font-size: 3rem;">üéÇ O Tempo que voc√™ ilumina o mundo</h2>
    <div id="age-timer" class="fs-2 fw-bold text-danger"></div>
    <p class="fs-5 mt-2" id="days-lived"></p>
  </section>

  <section class="glass-card text-center animate__animated animate__fadeIn">
    <h2 class="display-love mb-3" style="font-size: 3rem;">Onde tudo come√ßou...</h2>
    <div class="scratch-container">
        <img src="Foto16.jpeg" id="revealed-img">
        <canvas id="scratch-canvas"></canvas>
    </div>
    <div id="btn-historia-container" class="mt-4" style="display:none;">
        <button class="btn btn-love btn-lg animate__animated animate__tada" data-bs-toggle="modal" data-bs-target="#modalPoesia">Nossa Hist√≥ria em Poesia üìú</button>
    </div>
  </section>

  <section class="text-center mb-5">
    <h2 class="display-love mb-4" style="font-size: 3.2rem;">Minhas Cartas</h2>
    <div class="poem-container">
      <div class="poem-card">
        <div class="typewriter-text" id="poem-text"></div>
        <div class="mt-3 text-muted small" id="card-index"></div>
      </div>
    </div>
    <div class="mt-4">
      <button class="btn btn-love me-2" onclick="changeCard(-1)">Voltar</button>
      <button class="btn btn-love" onclick="changeCard(1)">Pr√≥xima Carta üíå</button>
    </div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">Nosso Anjinho e N√≥s ‚ù§Ô∏è</h2>
    <div class="frame-afilhada animate__animated animate__fadeInUp">
      <img src="FotoAfilhada.jpeg" alt="N√≥s e nossa afilhada">
      <p class="text-dark mt-2 fw-bold">O la√ßo que nos uniu...</p>
    </div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">üì∏ Nossos Momentos</h2>
    <div id="c1" class="carousel slide carousel-fade" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active"><img src="Foto4.jpeg"></div>
        <div class="carousel-item"><img src="Foto8.jpeg"></div>
        <div class="carousel-item"><img src="Foto2.jpeg"></div>
        <div class="carousel-item"><img src="Foto9.jpeg"></div>
        <div class="carousel-item"><img src="Foto10.jpeg"></div>
        <div class="carousel-item"><img src="Foto13.jpeg"></div>
        <div class="carousel-item"><img src="Foto14.jpeg"></div>
        <div class="carousel-item"><img src="Foto23.jpeg"></div>
        <div class="carousel-item"><img src="Foto31.jpeg"></div>
        <div class="carousel-item"><img src="Foto33.jpeg"></div>
        <div class="carousel-item"><img src="Foto27.jpeg"></div>
        <div class="carousel-item"><img src="Foto30.jpeg"></div>
      </div>
      <button class="carousel-control-prev" data-bs-target="#c1" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
      <button class="carousel-control-next" data-bs-target="#c1" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">‚ú® Meu amor, minha rosa üåπ</h2>
    <div id="c2" class="carousel slide carousel-fade" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active"><img src="Foto18.jpeg"></div>
        <div class="carousel-item"><img src="Foto19.jpeg"></div>
        <div class="carousel-item"><img src="Foto7.jpeg"></div>
        <div class="carousel-item"><img src="Foto11.jpeg"></div>
        <div class="carousel-item"><img src="Foto1.jpeg"></div>
        <div class="carousel-item"><img src="Foto22.jpeg"></div>
      </div>
      <button class="carousel-control-prev" data-bs-target="#c2" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
      <button class="carousel-control-next" data-bs-target="#c2" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">üé• Nossos V√≠deos</h2>
    <div id="c-videos" class="carousel slide" data-bs-interval="false">
      <div class="carousel-inner">
        <div class="carousel-item active"><video controls><source src="video1.mp4" type="video/mp4"></video></div>
        <div class="carousel-item"><video controls><source src="video2.mp4" type="video/mp4"></video></div>
      </div>
      <button class="carousel-control-prev" data-bs-target="#c-videos" data-bs-slide="prev"><span class="carousel-control-prev-icon"></span></button>
      <button class="carousel-control-next" data-bs-target="#c-videos" data-bs-slide="next"><span class="carousel-control-next-icon"></span></button>
    </div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">üÉè Jogo do Amor</h2>
    <div id="memory-game" class="d-grid justify-content-center" style="grid-template-columns: repeat(4, 80px); gap:15px;"></div>
    <div id="game-result" class="fs-3 mt-4 fw-bold"></div>
  </section>

  <section class="glass-card text-center">
    <h2 class="display-love mb-4" style="font-size: 3rem;">Um Presente Especial</h2>
    <div class="d-flex flex-wrap justify-content-center">
      <div class="coupon" onclick="pickCoupon(this, 'Jantar')">üéüÔ∏è Vale um Jantar</div>
      <div class="coupon" onclick="pickCoupon(this, 'Cafun√©')">üéüÔ∏è Vale um Cafun√©</div>
      <div class="coupon" onclick="pickCoupon(this, 'Viagem')">üéüÔ∏è Vale uma Viagem</div>
    </div>
  </section>

  <section class="glass-card text-center pb-5 mb-5">
    <h2 class="display-love mb-4" style="font-size: 4rem;">üíç Uma √öltima Pergunta...</h2>
    <p class="fs-3">Topas ser feliz comigo para sempre?</p>
    <div class="mt-4">
      <button class="btn btn-success btn-lg px-5 m-2 shadow" onclick="yes()">SIM üòç</button>
      <button id="btn-no" class="btn btn-danger btn-lg px-5 m-2 shadow" onmouseover="moveNo()">N√ÉO üôà</button>
    </div>
    <div id="res" class="mt-4 fs-2 fw-bold"></div>

    <div id="maze-container" class="animate__animated animate__fadeIn">
      <h3>Leve o cora√ß√£o rosa at√© o presente! üéÅ</h3>
      <canvas id="maze-canvas" width="300" height="300"></canvas>
      <div id="maze-status" class="mt-2 fw-bold text-danger"></div>
    </div>
  </section>

</main>

<div class="modal fade" id="modalPoesia" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="color: #333;">
      <div class="modal-body p-5 text-center">
        <h2 class="display-love text-danger" style="font-size: 3rem;">Nossa Hist√≥ria</h2>
        <p class="fs-5 mt-4" style="line-height: 2;">
          Tudo come√ßou com um olhar de verdade,<br>
          Passei a gostar de ti por essa imagem sem qualidade.<br>
          O que faltava em foco, sobrava em paix√£o,<br>
          E voc√™, sem saber, j√° era dona do meu cora√ß√£o.<br><br>
          A nossa pequena, anjo que o c√©u nos enviou,<br>
          Essa beb√™ √© quem nos uniu e o nosso la√ßo selou.
        </p>
        <button type="button" class="btn btn-love mt-3" data-bs-dismiss="modal">Continuar Sonhando ‚ù§Ô∏è</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // --- M√öSICA ---
  const music = document.getElementById('bg-music');
  function tryPlay() { music.play().then(() => document.getElementById('music-control').innerText = "üîä").catch(() => {}); }
  function toggleMusic() { 
    if(music.paused) { music.play(); document.getElementById('music-control').innerText = "üîä"; }
    else { music.pause(); document.getElementById('music-control').innerText = "üîá"; }
  }
  document.addEventListener("click", tryPlay, { once: true });

  // --- RASPADINHA ---
  const canvasS = document.getElementById('scratch-canvas');
  const ctxS = canvasS.getBoundingClientRect();
  const ctx = canvasS.getContext('2d');
  let drawing = false;
  function initScratch() {
    canvasS.width = 300; canvasS.height = 300;
    ctx.fillStyle = '#C0C0C0'; ctx.fillRect(0,0,300,300);
    ctx.globalCompositeOperation = 'destination-out';
  }
  function scratch(e) {
    if(!drawing) return;
    const r = canvasS.getBoundingClientRect();
    const x = (e.pageX || e.touches[0].pageX) - r.left - window.scrollX;
    const y = (e.pageY || e.touches[0].pageY) - r.top - window.scrollY;
    ctx.beginPath(); ctx.arc(x, y, 35, 0, Math.PI*2); ctx.fill();
    document.getElementById('btn-historia-container').style.display = 'block';
  }
  canvasS.addEventListener('mousedown', () => drawing = true);
  canvasS.addEventListener('mouseup', () => drawing = false);
  canvasS.addEventListener('mousemove', scratch);
  canvasS.addEventListener('touchstart', (e) => { drawing = true; e.preventDefault(); });
  canvasS.addEventListener('touchmove', (e) => { scratch(e); e.preventDefault(); });
  initScratch();

  // --- CARTAS E ROSAS ---
  const poems = [
    "Sabe, aquela foto sem qualidade foi o in√≠cio do meu melhor cap√≠tulo...",
    "Cada dia ao seu lado √© uma nova p√°gina que eu amo escrever.",
    "Obrigado por ser meu porto seguro e minha maior alegria.",
    "Nossa afilhada nos deu o empurr√£ozinho que o destino precisava.",
    "Eu te amo hoje, amanh√£ e em cada detalhe da nossa eternidade."
  ];
  let cur = 0; let t;
  function showCard(i) {
    const el = document.getElementById('poem-text');
    el.innerHTML = ""; clearTimeout(t);
    document.getElementById('card-index').innerText = `Carta ${i+1} de 5`;
    let cidx = 0;
    function type() { if(cidx < poems[i].length) { el.innerHTML += poems[i].charAt(cidx); cidx++; t = setTimeout(type, 50); } }
    type();
    if (i === 4) startFallingRoses();
  }
  function changeCard(dir) { cur += dir; if(cur >= 0 && cur < 5) showCard(cur); }
  function startFallingRoses() {
    const end = Date.now() + 5000;
    const interval = setInterval(() => {
      if (Date.now() > end) return clearInterval(interval);
      const rose = document.createElement('div');
      rose.className = 'falling-rose'; rose.innerText = 'üåπ';
      rose.style.left = Math.random() * 100 + 'vw';
      rose.style.animationDuration = (Math.random() * 3 + 2) + 's';
      document.body.appendChild(rose);
      setTimeout(() => rose.remove(), 5000);
    }, 200);
  }
  showCard(0);

  // --- IDADE ---
  const birthDate = new Date("2002-01-14T00:00:00");
  function updateAge() {
    const now = new Date(); let diff = now - birthDate;
    const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
    const days = Math.floor(diff / 86400000);
    const hours = Math.floor((diff % 86400000) / 3600000);
    const minutes = Math.floor((diff % 3600000) / 60000);
    const seconds = Math.floor((diff % 60000) / 1000);
    document.getElementById("age-timer").innerText = `${years} anos, ${hours}h ${minutes}m ${seconds}s`;
    document.getElementById("days-lived").innerText = `Isso representa ${days.toLocaleString()} dias de luz no mundo!`;
  }
  setInterval(updateAge, 1000); updateAge();

  // --- MEM√ìRIA ---
  const gamePhotos = ["Foto1.jpeg", "Foto3.jpeg", "Foto5.jpeg", "Foto6.jpeg"];
  const symbols = [...gamePhotos, ...gamePhotos].sort(() => 0.5 - Math.random());
  const game = document.getElementById("memory-game");
  let firstCard = null, lockBoard = false, matches = 0;
  symbols.forEach(imgSrc => {
    const card = document.createElement("div");
    card.className = "memory-card"; card.innerHTML = `<img src="${imgSrc}">`;
    card.onclick = () => {
      if (lockBoard || card.classList.contains("flipped")) return;
      card.classList.add("flipped");
      if (!firstCard) firstCard = card;
      else {
        lockBoard = true;
        if (firstCard.querySelector('img').src === card.querySelector('img').src) {
          matches++; firstCard = null; lockBoard = false;
          if (matches === 4) { document.getElementById("game-result").innerText = "üéâ Presente desbloqueado! üíù"; confetti(); }
        } else { setTimeout(() => { firstCard.classList.remove("flipped"); card.classList.remove("flipped"); firstCard = null; lockBoard = false; }, 800); }
      }
    };
    game.appendChild(card);
  });

  // --- LABIRINTO ---
  const mazeCanvas = document.getElementById('maze-canvas');
  const mCtx = mazeCanvas.getContext('2d');
  let player = { x: 15, y: 15 };
  function drawMaze() {
    mCtx.clearRect(0, 0, 300, 300);
    mCtx.font = "20px Arial";
    mCtx.fillText("‚ù§Ô∏è", player.x - 10, player.y + 7);
    mCtx.fillText("üéÅ", 270, 285);
  }
  function handleMaze(e) {
    const rect = mazeCanvas.getBoundingClientRect();
    player.x = (e.clientX || e.touches[0].clientX) - rect.left;
    player.y = (e.clientY || e.touches[0].clientY) - rect.top;
    drawMaze();
    if (player.x > 260 && player.y > 260) {
      document.getElementById('maze-status').innerText = "PARAB√âNS! Voc√™ ganhou um beijo extra! üíã";
      confetti();
    }
  }
  mazeCanvas.addEventListener('mousemove', handleMaze);
  mazeCanvas.addEventListener('touchmove', (e) => { handleMaze(e); e.preventDefault(); });

  // --- EXTRAS ---
  function moveNo() { const b = document.getElementById('btn-no'); b.style.position = 'fixed'; b.style.left = Math.random()*70+10+'vw'; b.style.top = Math.random()*70+10+'vh'; }
  function yes() { 
    document.getElementById('res').innerText = "PARA SEMPRE! üíç‚ù§Ô∏è"; 
    confetti(); 
    document.getElementById('maze-container').style.display = 'block';
    drawMaze();
  }
  function pickCoupon(el, txt) { el.classList.add('selected'); document.querySelectorAll('.coupon').forEach(c => { if(c !== el) c.classList.add('disabled'); }); alert("Presente garantido: " + txt); }
  setInterval(() => { const h = document.createElement('div'); h.className = 'heart'; h.innerText = '‚ù§Ô∏è'; h.style.left = Math.random()*100+'vw'; document.body.appendChild(h); setTimeout(() => h.remove(), 8000); }, 700);
</script>
</body>
</html>